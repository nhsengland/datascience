
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://nhsengland.github.io/datascience/our_work/long-stay-baseline/">
      
      
        <link rel="prev" href="../long-stay/">
      
      
        <link rel="next" href="../parkinsons-detection/">
      
      
      <link rel="icon" href="../../images/favicon/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Long Stayer Risk Stratification Baseline Models - NHS England Data Science</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
    
  
  
  <style>:root{--md-admonition-icon--<type>:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M13%2014h-2V9h2m0%209h-2v-2h2M1%2021h22L12%202z%22/%3E%3C/svg%3E');}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Arial:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Arial";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1-background" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      <!--
  Copyright (c) 2016-2022 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Website tracking service -->
<head>
<script src="https://t.usermaven.com/lib.js" 
    data-key="UMSdfPTZQR" 
    data-tracking-host="https://events.usermaven.com"
    data-autocapture="true"  
    data-privacy-policy="strict" 
    defer>
</script>
<script>window.usermaven = window.usermaven || (function(){(window.usermavenQ = window.usermavenQ || []).push(arguments);})</script>
</head>

<!-- Determine class according to configuration -->


  


<!-- Header -->
<header class="md-header md-header--lifted" data-md-component="header">
  <nav
    class="md-header__inner md-grid"
    aria-label="header.title"
  >

<!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>

    <!-- Link to home -->
    <a
      href="../.."
      title="NHS England Data Science"
      class="md-header__button md-logo-nhs"
      aria-label="NHS England Data Science"
      data-md-component="logo"
    >
      
  <img src="../../images/logo/nhs-blue-on-white.jpg" alt="logo">

    </a>

    <!-- Header title -->
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NHS England Data Science
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Long Stayer Risk Stratification Baseline Models
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette -->
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <a href="https://github.com/NHSEngland/datascience" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    NHS England Data Science Website
  </div>
</a>
      </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../about/" class="md-tabs__link">
        
  
  
    
  
  About the team

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  Projects

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../PhDInterns/" class="md-tabs__link">
        
  
  
    
  
  PhD Internships

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../articles/" class="md-tabs__link">
          
  
  
    
  
  Articles

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../playbooks/" class="md-tabs__link">
        
  
  
    
  
  Playbooks

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../useful_links/" class="md-tabs__link">
        
  
  
    
  
  Useful links

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../meta_page/" class="md-tabs__link">
        
  
  
    
  
  Site Info

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="NHS England Data Science" class="md-nav__button md-logo" aria-label="NHS England Data Science" data-md-component="logo">
      
  <img src="../../images/logo/nhs-blue-on-white.jpg" alt="logo">

    </a>
    NHS England Data Science
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/NHSEngland/datascience" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    NHS England Data Science Website
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About the team
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Projects
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project Tags
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Past/Current Projects
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Past/Current Projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_3_1" id="__nav_3_3_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Current Projects
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_1">
            <span class="md-nav__icon md-icon"></span>
            Current Projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../a_and_e_forecasting_tool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    A&E Forecasting Tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ds278_Assurance_Research_Path/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Assurance Research Path
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ai-dictionary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Dictionary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ai-ethics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Ethics in Practice
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-linkage-hub/linkage-projects/better-matching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Better Matching Algorithm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cancer_high_risk_cohorts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cancer high-risk cohorts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../corporate_services_pipeline_rebuild/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Corporate Services: Pipeline rebuild
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cvd_pathways/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CVD Pathways
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-linkage-hub/linkage-projects/cop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Linkage Community of Practice
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Emerging Privacy Enhancing Technologies
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../epma_autocoding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ePMA Auto Coding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ratings-and-reviews/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NHS.UK Automatic Moderation of Ratings & Reviews
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../swpclab/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Primary Care Data Generator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ds218_rap_community_of_practice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reproducible Analytical Pipelines Squad
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sde_data_validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reusable Data Validation Process
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Papi_Webpage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Risk stratification models for Population and Person Insights (PaPI)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ds304_synthetic_clinical_notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Synthetic Clinical Notes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ndrs_embedded_ds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Embedded Data Scientists in the National Disease Registration Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../clinical_measurement_extractor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Clinical Measurement Extractor
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_3_2" id="__nav_3_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Past Projects
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_2">
            <span class="md-nav__icon md-icon"></span>
            Past Projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_2_1" >
        
          
          <label class="md-nav__link" for="__nav_3_3_2_1" id="__nav_3_3_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    2025
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_3_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_2_1">
            <span class="md-nav__icon md-icon"></span>
            2025
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ratings-and-reviews/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NHS.UK Automatic Moderation of Ratings & Reviews
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ds218_rap_community_of_practice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reproducible Analytical Pipelines Squad
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hsma-wlmds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Waiting List Minimum Dataset (WLMDS) Proofs of Concept
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_2_2" >
        
          
          <label class="md-nav__link" for="__nav_3_3_2_2" id="__nav_3_3_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    2024
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_3_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_2_2">
            <span class="md-nav__icon md-icon"></span>
            2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ds251_RAG/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RAG
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../redbox_copilot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Redbox Copilot
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-linkage-hub/linkage-projects/qaf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quality Assurance Framework for Data Linkage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ds255_privacyfp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tool to Assess Privacy Risk of Text Data - Extended
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p61_mmfair/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Understanding Fariness and Explainability in Multimodal Approaches within Healthcare
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_2_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3_2_3" id="__nav_3_3_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    2023
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_3_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_2_3">
            <span class="md-nav__icon md-icon"></span>
            2023
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../casestudy-recruitment-shortlisting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Models for Shortlisting Interview Candidates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ai-skunkworks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Skunkworks Team
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adrenal-lesions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deep Learning to Detect Adrenal Lesions in CT Scans
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-linkage-hub/linkage-projects/mps-handbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MPS Handbook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p43_medcat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Enriching Clinical Coding for Neurology Pathways using MedCAT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p42_mortalityhypergraphs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Including Mortality in Hypergraphs for Multi-morbidity
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p51_privconcerns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Investigating Privacy Risks and Mitigations in Healthcare Language Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p41_nhssynth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NHS Synth
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parkinsons-detection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Parkinson's Disease Pathology Prediction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p52_processmining/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Process Mining with East Midlands Ambulance Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c399_privfinger/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tool to Assess Privacy Risk of Text Data
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_2_4" >
        
          
          <label class="md-nav__link" for="__nav_3_3_2_4" id="__nav_3_3_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    2022
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_3_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_2_4">
            <span class="md-nav__icon md-icon"></span>
            2022
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p31_txtrayalign2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adding a Clinical Focus to Evaluating MM Data Representations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ambulance-delay-predictor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ambulance Handover Delay Predictor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p33_patientsafetylms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Applying & Evaluating a Language Model to Patient Safety Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bed-allocation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bed Allocation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c245_synpath/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generic Patient Simulator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p32_phmdiabetes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inequalities in Diabetes from PHM Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p24_lime/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Investigating Superpixels in LIME for Explaining Predictions of Facial Images
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Long Stayer Risk Stratification Baseline Models
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Long Stayer Risk Stratification Baseline Models
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-background" class="md-nav__link">
    <span class="md-ellipsis">
      1. Background
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-approach" class="md-nav__link">
    <span class="md-ellipsis">
      2. Approach
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-data-ingest-and-processing" class="md-nav__link">
    <span class="md-ellipsis">
      3. Data ingest and processing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-feature-engineering" class="md-nav__link">
    <span class="md-ellipsis">
      4. Feature engineering
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Feature engineering">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#5-statistical-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      5. Statistical analysis
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Statistical analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#correlation-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      Correlation analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variation-inflation-factors" class="md-nav__link">
    <span class="md-ellipsis">
      Variation inflation factors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#homoescadisticity" class="md-nav__link">
    <span class="md-ellipsis">
      Homoescadisticity
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-modelling" class="md-nav__link">
    <span class="md-ellipsis">
      6. Modelling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Modelling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-regression-models" class="md-nav__link">
    <span class="md-ellipsis">
      6.1 Regression models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-demographic-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      6.2 Demographic analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-classification-models" class="md-nav__link">
    <span class="md-ellipsis">
      6.3 Classification models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-model-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      6.4 Model comparison
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-conclusions" class="md-nav__link">
    <span class="md-ellipsis">
      7. Conclusions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-future-work" class="md-nav__link">
    <span class="md-ellipsis">
      8. Future work
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Future work">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modelling-improvements" class="md-nav__link">
    <span class="md-ellipsis">
      Modelling improvements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demographic-analysis-improvements" class="md-nav__link">
    <span class="md-ellipsis">
      Demographic analysis improvements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technical-improvements" class="md-nav__link">
    <span class="md-ellipsis">
      Technical improvements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Technical improvements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acknowledgments" class="md-nav__link">
    <span class="md-ellipsis">
      Acknowledgments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nursing-placement-optimisation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nursing Placement Scheduled Optimisation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c338_poud/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Privacy of Unstructured Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../renal-health-prediction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Renal Health Prediction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../casestudy-synthetic-data-pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Synthetic Data From Real Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../synthetic-data-pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Synthetic Data Generation Pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p34_hypergraphs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transforming Healthcare Data With Graph-Based Techniques
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_2_5" >
        
          
          <label class="md-nav__link" for="__nav_3_3_2_5" id="__nav_3_3_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    2021
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_3_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_2_5">
            <span class="md-nav__icon md-icon"></span>
            2021
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ai-deep-dive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Deep Dive Workshops
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ct-alignment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CT Alignment & Lesion Detection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c339_sas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating a Generic Adversarial Attack for Synthetic Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p21_synthvae/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developing SynthVAE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p12_synthvae/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Differential Privacy in a VAE for Synthetic Data Generation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p14_mcr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Impact of Commercial Data on Predictions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../long-stay/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Length of Hospital Day Prediction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c250_nhscorpus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NHS Language Corpus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../open-safely/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NHS @Home Programme
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nhs-resolution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Predicting Negligence Claims
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p11_synpathdiabetes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SynPath Simulator on Diabetes Pathway
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p23_stm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Text Analysis using Structural Topic Modelling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p22_txtrayalign/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TxtRayAlign
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3_2_6" >
        
          
          <label class="md-nav__link" for="__nav_3_3_2_6" id="__nav_3_3_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    2020
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_3_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3_2_6">
            <span class="md-nav__icon md-icon"></span>
            2020
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-lens/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Lens
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" checked>
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Main Work Areas
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Main Work Areas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_1" checked>
        
          
          <label class="md-nav__link" for="__nav_3_4_1" id="__nav_3_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Predictive Analytics Products
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4_1">
            <span class="md-nav__icon md-icon"></span>
            Predictive Analytics Products
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../a_and_e_forecasting_tool/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    A&E Forecasting Tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ambulance-delay-predictor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ambulance Handover Delay Predictor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bed-allocation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bed Allocation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cancer_high_risk_cohorts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cancer high-risk cohorts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p14_mcr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Impact of Commercial Data on Predictions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../long-stay/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Length of Hospital Day Prediction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Long Stayer Risk Stratification Baseline Models
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Long Stayer Risk Stratification Baseline Models
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-background" class="md-nav__link">
    <span class="md-ellipsis">
      1. Background
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-approach" class="md-nav__link">
    <span class="md-ellipsis">
      2. Approach
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-data-ingest-and-processing" class="md-nav__link">
    <span class="md-ellipsis">
      3. Data ingest and processing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-feature-engineering" class="md-nav__link">
    <span class="md-ellipsis">
      4. Feature engineering
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Feature engineering">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#5-statistical-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      5. Statistical analysis
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Statistical analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#correlation-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      Correlation analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#variation-inflation-factors" class="md-nav__link">
    <span class="md-ellipsis">
      Variation inflation factors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#homoescadisticity" class="md-nav__link">
    <span class="md-ellipsis">
      Homoescadisticity
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-modelling" class="md-nav__link">
    <span class="md-ellipsis">
      6. Modelling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Modelling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-regression-models" class="md-nav__link">
    <span class="md-ellipsis">
      6.1 Regression models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-demographic-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      6.2 Demographic analysis
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-classification-models" class="md-nav__link">
    <span class="md-ellipsis">
      6.3 Classification models
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-model-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      6.4 Model comparison
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-conclusions" class="md-nav__link">
    <span class="md-ellipsis">
      7. Conclusions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-future-work" class="md-nav__link">
    <span class="md-ellipsis">
      8. Future work
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Future work">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modelling-improvements" class="md-nav__link">
    <span class="md-ellipsis">
      Modelling improvements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demographic-analysis-improvements" class="md-nav__link">
    <span class="md-ellipsis">
      Demographic analysis improvements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#technical-improvements" class="md-nav__link">
    <span class="md-ellipsis">
      Technical improvements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Technical improvements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#acknowledgments" class="md-nav__link">
    <span class="md-ellipsis">
      Acknowledgments
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parkinsons-detection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Parkinson's Disease Pathology Prediction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nhs-resolution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Predicting Negligence Claims
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../renal-health-prediction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Renal Health Prediction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Papi_Webpage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Risk stratification models for Population and Person Insights (PaPI)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hsma-wlmds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Waiting List Minimum Dataset (WLMDS) Proofs of Concept
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_2" >
        
          
          <label class="md-nav__link" for="__nav_3_4_2" id="__nav_3_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Data Science for Linked/Longitudinal Data
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_2">
            <span class="md-nav__icon md-icon"></span>
            Data Science for Linked/Longitudinal Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_2_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../data-linkage-hub/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Data Linkage Hub
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4_2_1" id="__nav_3_4_2_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_4_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_2_1">
            <span class="md-nav__icon md-icon"></span>
            Data Linkage Hub
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-linkage-hub/linkage-projects/better-matching/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Better Matching Algorithm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-linkage-hub/linkage-projects/cop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Linkage Community of Practice
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-linkage-hub/linkage-projects/mps-handbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MPS Handbook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-linkage-hub/linkage-projects/qaf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quality Assurance Framework for Data Linkage
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p32_phmdiabetes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inequalities in Diabetes from PHM Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cvd_pathways/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CVD Pathways
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_3" >
        
          
          <label class="md-nav__link" for="__nav_3_4_3" id="__nav_3_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Natural Language Processing Products
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_3">
            <span class="md-nav__icon md-icon"></span>
            Natural Language Processing Products
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../casestudy-recruitment-shortlisting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Models for Shortlisting Interview Candidates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-lens/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Lens
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../epma_autocoding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ePMA Auto Coding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ratings-and-reviews/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NHS.UK Automatic Moderation of Ratings & Reviews
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../redbox_copilot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Redbox Copilot
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c399_privfinger/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tool to Assess Privacy Risk of Text Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ds255_privacyfp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tool to Assess Privacy Risk of Text Data - Extended
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4_4" id="__nav_3_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Data Science Capability
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_4">
            <span class="md-nav__icon md-icon"></span>
            Data Science Capability
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ai-deep-dive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Deep Dive Workshops
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ai-dictionary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Dictionary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ai-ethics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Ethics in Practice
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ai-skunkworks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI Skunkworks Team
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../corporate_services_pipeline_rebuild/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Corporate Services: Pipeline rebuild
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../open-safely/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NHS @Home Programme
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ds218_rap_community_of_practice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reproducible Analytical Pipelines Squad
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_5" >
        
          
          <label class="md-nav__link" for="__nav_3_4_5" id="__nav_3_4_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Research & Development
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_5">
            <span class="md-nav__icon md-icon"></span>
            Research & Development
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_5_1" >
        
          
          <label class="md-nav__link" for="__nav_3_4_5_1" id="__nav_3_4_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Computer Vision retired
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_4_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_5_1">
            <span class="md-nav__icon md-icon"></span>
            Computer Vision retired
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ct-alignment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CT Alignment & Lesion Detection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../adrenal-lesions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deep Learning to Detect Adrenal Lesions in CT Scans
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p24_lime/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Investigating Superpixels in LIME for Explaining Predictions of Facial Images
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_5_2" >
        
          
          <label class="md-nav__link" for="__nav_3_4_5_2" id="__nav_3_4_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Natural Language Processing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_4_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_5_2">
            <span class="md-nav__icon md-icon"></span>
            Natural Language Processing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p31_txtrayalign2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Adding a Clinical Focus to Evaluating MM Data Representations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p33_patientsafetylms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Applying & Evaluating a Language Model to Patient Safety Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p42_mortalityhypergraphs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Including Mortality in Hypergraphs for Multi-morbidity
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p51_privconcerns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Investigating Privacy Risks and Mitigations in Healthcare Language Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c250_nhscorpus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NHS Language Corpus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c338_poud/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Privacy of Unstructured Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p23_stm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Text Analysis using Structural Topic Modelling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p22_txtrayalign/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TxtRayAlign
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p61_mmfair/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Understanding Fariness and Explainability in Multimodal Approaches within Healthcare
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_5_3" >
        
          
          <label class="md-nav__link" for="__nav_3_4_5_3" id="__nav_3_4_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Synthetic Data
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_4_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_5_3">
            <span class="md-nav__icon md-icon"></span>
            Synthetic Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c339_sas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating a Generic Adversarial Attack for Synthetic Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p21_synthvae/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developing SynthVAE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Emerging Privacy Enhancing Technologies
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p12_synthvae/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Differential Privacy in a VAE for Synthetic Data Generation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../c245_synpath/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generic Patient Simulator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p41_nhssynth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NHS Synth
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../swpclab/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Primary Care Data Generator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p11_synpathdiabetes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SynPath Simulator on Diabetes Pathway
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ds304_synthetic_clinical_notes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Synthetic Clinical Notes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../casestudy-synthetic-data-pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Synthetic Data From Real Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../synthetic-data-pipeline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Synthetic Data Generation Pipeline
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p42_mortalityhypergraphs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Including Mortality in Hypergraphs for Multi-morbidity
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../nursing-placement-optimisation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nursing Placement Scheduled Optimisation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p52_processmining/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Process Mining with East Midlands Ambulance Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4_5_7" >
        
          
          <label class="md-nav__link" for="__nav_3_4_5_7" id="__nav_3_4_5_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    SDE Service Data Wranglers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_3_4_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4_5_7">
            <span class="md-nav__icon md-icon"></span>
            SDE Service Data Wranglers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sde_data_validation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reusable Data Validation Process
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../p34_hypergraphs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Transforming Healthcare Data With Graph-Based Techniques
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Publications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Our Team's Publications
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../PhDInterns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PhD Internships
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../articles/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Articles
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Articles
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Archive
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/archive/2025/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/archive/2024/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2024
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/archive/2023/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2023
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Categories
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/annotation-tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Annotation Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/assurance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assurance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/blog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/comms-and-marketing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Comms and Marketing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/data-science-interviews/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Science Interviews
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/ethical-ai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ethical AI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/evaluation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Evaluation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/events/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Events
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/explainability/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Explainability
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/generative-ai/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generative AI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/hsma/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HSMA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/image-classification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Image Classification
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/llms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LLMs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/nhs-websites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NHS Websites
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/optimisation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Optimisation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/presentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Presentation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/privacy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Privacy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/professional-development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Professional Development
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/quantum/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quantum
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/rap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RAP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/volunteering/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Volunteering
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../articles/category/waiting-lists/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Waiting Lists
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../playbooks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Playbooks
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../useful_links/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Useful links
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../meta_page/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Site Info
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                




    <h1> Long Stayer Risk Stratification Baseline Models </h1>
    <blockquote> Baseline machine learning models using historical data from Gloucestershire Hospitals NHS Foundation Trust to predict how long a patient will stay in hospital upon admission. </blockquote>


    

                  

  <nav class="md-tags" >
    
      
      
      
        <a href="../tags/#tag:classification" class="md-tag">CLASSIFICATION</a>
      
    
      
      
      
        <a href="../tags/#tag:complete" class="md-tag">COMPLETE</a>
      
    
      
      
      
        <a href="../tags/#tag:machine-learning" class="md-tag">MACHINE LEARNING</a>
      
    
      
      
      
        <a href="../tags/#tag:modelling" class="md-tag">MODELLING</a>
      
    
      
      
      
        <a href="../tags/#tag:python" class="md-tag">PYTHON</a>
      
    
      
      
      
        <a href="../tags/#tag:secondary-care" class="md-tag">SECONDARY CARE</a>
      
    
      
      
      
        <a href="../tags/#tag:sql" class="md-tag">SQL</a>
      
    
      
      
      
        <a href="../tags/#tag:structured-data" class="md-tag">STRUCTURED DATA</a>
      
    
  </nav>


  
  


<p>Long Stayer risk stratification baseline models was selected as a project to run in tandem with the <a href="../long-stay/">Long Stayer Risk Stratification</a> project, and started in March 2022.</p>
<p>Baseline models provide a mechanism to generate baseline metrics to assess the performance of more complex models, and establish the effectiveness of simple approaches.</p>
<div class="admonition warning">
<p class="admonition-title">Intended Audience</p>
<p>This report has been written for analysts and data scientists at NHS Trusts/ALBs</p>
</div>
<p>A series of Jupyter Notebooks used to generate this report are available on <a href="https://github.com/nhsx/skunkworks-long-stayer-risk-stratification-baseline/tree/main/notebooks">Github</a>.</p>
<h2 id="1-background">1. Background</h2>
<p>Hospital long stayers, those with a <a href='https://www.england.nhs.uk/urgent-emergency-care/reducing-length-of-stay/' target='_blank'>length of stay (LoS) of 21 days or longer</a>, have significantly worse medical and social outcomes than other patients. Long-stayers are often medically optimised (fit for discharge) many days before their actual discharge. Moreover, there are a complex mixture of medical, cultural and socioeconomic factors which contribute to the causes of unnecessary long stays.</p>
<p>This project aims to complement <a href="../long-stay/">previous work</a> by generating simple baseline regression and classification models that could be replicated at other hospital trusts, and is divided into two phases:</p>
<ol>
<li>Series of Jupyter Notebooks containing baseline model code</li>
<li><a href="https://github.com/NHSDigital/rap-community-of-practice">Reproducible Analytical Pipeline</a> including data pipelines</li>
</ol>
<p>Currently, this project has completed <strong>Phase 1</strong>.</p>
<h2 id="2-approach">2. Approach</h2>
<p>The aim of this project is to perform the simplest possible feature engineering and modelling to arrive at a reasonable baseline model, for more advanced feature engineering and modelling to be compared against.</p>
<p>The approach involved:</p>
<ol>
<li>Defining the population and data cleaning</li>
<li>Feature engineering, focussing on basic numerical and categorical features</li>
<li>Simple baseline models implemented using commonly available packages including <a href="https://scikit-learn.org/">scikit-learn 1.1.1</a>, <a href="https://catboost.ai">CatBoost 1.0.6</a> and <a href="https://xgboost.readthedocs.io/en/stable/">XGBoost 1.3.3</a></li>
<li>Analysis of model performance by demographic</li>
<li>A comparison of regression-based and classification-based risk stratification models</li>
<li>A set of extensions for future work</li>
</ol>
<h2 id="3-data-ingest-and-processing">3. Data ingest and processing</h2>
<p>GHNHSFT performed a SQL export from their EPR system containing ~770,000 records across 99 columns, with significant sparsity across several columns and a section of rows, as visualised by light coloured blocks (null values) in the below image:</p>
<p><img alt="Plot showing a visual representation of the null values in each of the data columns." src="../../images/long-stay-baseline/sparsity.png" /></p>
<p><em>Figure 1. Plot of data sparsity of raw data. Null values are light coloured blocks. (<em>Note that not all columns are labelled</em>)</em></p>
<p>The population for this study was defined as non-elective, major cases as recorded in the <code>IS_MAJOR</code> and <code>elective_or_non_elective</code> fields.</p>
<p>Filtering the dataset to this definition resulted in a reduction of ~770,000 rows to ~170,000 rows (78% reduction):</p>
<p><img alt="Image of data sparsity - major cases" src="../../images/long-stay-baseline/sparsity-major.png" /></p>
<p><em>Figure 2. Plot of data sparsity of "major" cases. Null values are light coloured blocks. (<em>Note that not all columns are labelled</em>)</em></p>
<p>Data was processed by:</p>
<ol>
<li>Converting datetime columns into the correct data type</li>
<li>Ordering records by <code>START_DATE_TIME_HOSPITAL_PROVIDER_SPELL</code></li>
<li>Removing fields not available at admission</li>
<li>Removing empty and redundant (e.g. <code>LENGTH_OF_STAY_IN_MINUTES</code> duplicates <code>LENGTH_OF_STAY</code>) columns</li>
<li>Removing duplicate rows</li>
<li>Removing local identifiers</li>
<li>Imputing <code>stroke_ward_stay</code> as <code>N</code> if not specified</li>
<li>Binary encoding <code>stroke_ward_stay</code>, <code>IS_care_home_on_admission</code>, <code>IS_care_home_on_discharge</code> and <code>IS_illness_not_injury</code></li>
</ol>
<p>This resulted in ~170,000 rows across ~50 columns as visualised in the below image:</p>
<p><img alt="Image of data sparsity of &quot;clean&quot; data" src="../../images/long-stay-baseline/sparsity-clean.png" /></p>
<p><em>Figure 3. Plot of data sparsity of clean data. Null values are light coloured blocks. (<em>Note that not all columns are labelled</em>)</em></p>
<p>The resulting data dictionary is available <a href="https://github.com/nhsx/skunkworks-long-stayer-risk-stratification-baseline/blob/main/docs/data-dictionary.csv">here</a>.</p>
<p>Additionally, Length of Stay was capped to 30 days, due to a long tail of long stayers over ~15 days and the definition of long stayer being over 21 days. The effect of capping can be visualised by comparing box plots of the distribution of length of stay on the raw data (left image, y scale up to 300 days) and the capped data (right image, y scale up to 30 days):</p>
<p><img alt="Boxplot of length of stay" src="../../images/long-stay-baseline/los-boxplot.png" /></p>
<p><em>Figure 4. Plot of the distribution of long stayers in the raw (left) data and capped (right) data. Note different y scales.</em></p>
<p>The resulting distribution of length of stays shows a ~bimodal distribution caused by the capping - the majority of stays are short (&lt;5 days), which a long tail and population of long stayers:</p>
<p><img alt="Density plot of length of stay" src="../../images/long-stay-baseline/los-density.png" /></p>
<p><em>Figure 5. Plot of density of length of stay for capped data.</em></p>
<h2 id="4-feature-engineering">4. Feature engineering</h2>
<p>After discussion with GHNHSFT, the following decisions were made in feature selection:</p>
<ol>
<li>
<p>Select the following features for inclusion in the model, which are available on admission:</p>
<div class="highlight"><pre><span></span><code><span class="s2">&quot;ae_arrival_mode&quot;</span><span class="p">,</span>
<span class="s2">&quot;AGE_ON_ADMISSION&quot;</span><span class="p">,</span>
<span class="s2">&quot;EL CountLast12m&quot;</span><span class="p">,</span>
<span class="s2">&quot;EMCountLast12m&quot;</span><span class="p">,</span>
<span class="s2">&quot;IS_illness_not_injury&quot;</span><span class="p">,</span>
<span class="s2">&quot;IS_cancer&quot;</span><span class="p">,</span>
<span class="s2">&quot;IS_care_home_on_admission&quot;</span><span class="p">,</span>
<span class="s2">&quot;IS_chronic_kidney_disease&quot;</span><span class="p">,</span>
<span class="s2">&quot;IS_COPD&quot;</span><span class="p">,</span>
<span class="s2">&quot;IS_coronary_heart_disease&quot;</span><span class="p">,</span>
<span class="s2">&quot;IS_dementia&quot;</span><span class="p">,</span>
<span class="s2">&quot;IS_diabetes&quot;</span><span class="p">,</span>
<span class="s2">&quot;IS_frailty_proxy&quot;</span><span class="p">,</span>
<span class="s2">&quot;IS_hypertension&quot;</span><span class="p">,</span>
<span class="s2">&quot;IS_mental_health&quot;</span><span class="p">,</span>
<span class="s2">&quot;MAIN_SPECIALTY_CODE_AT_ADMISSION_DESCRIPTION&quot;</span><span class="p">,</span>
<span class="s2">&quot;OP First CountLast12m&quot;</span><span class="p">,</span>
<span class="s2">&quot;OP FU CountLast12m&quot;</span><span class="p">,</span>
<span class="s2">&quot;SOURCE_OF_ADMISSION_HOSPITAL_PROVIDER_SPELL_DESCRIPTION&quot;</span><span class="p">,</span>
<span class="s2">&quot;stroke_ward_stay&quot;</span><span class="p">,</span>
<span class="s2">&quot;LENGTH_OF_STAY&quot;</span><span class="p">,</span>
<span class="s2">&quot;arrival_day_of_week&quot;</span><span class="p">,</span>
<span class="s2">&quot;arrival_month_name&quot;</span>
</code></pre></div>
</li>
<li>
<p>Exclude the following features, but retain for later analysis of model fairness:</p>
<div class="highlight"><pre><span></span><code><span class="s2">&quot;ETHNIC_CATEGORY_CODE_DESCRIPTION&quot;</span><span class="p">,</span>
<span class="s2">&quot;IMD county decile&quot;</span><span class="p">,</span>
<span class="s2">&quot;OAC Group Name&quot;</span><span class="p">,</span>
<span class="s2">&quot;OAC Subgroup Name&quot;</span><span class="p">,</span>
<span class="s2">&quot;OAC Supergroup Name&quot;</span><span class="p">,</span>
<span class="s2">&quot;PATIENT_GENDER_CURRENT_DESCRIPTION&quot;</span><span class="p">,</span>
<span class="s2">&quot;POST_CODE_AT_ADMISSION_DATE_DISTRICT&quot;</span><span class="p">,</span>
<span class="s2">&quot;Rural urban classification&quot;</span>
</code></pre></div>
</li>
<li>
<p>Generate <code>arrival_day_of_week</code> and <code>arrival_month_name</code> recalculated from <code>START_DATE_TIME_HOSPITAL_PROVIDER_SPELL</code></p>
</li>
</ol>
<p>This resulted in a dataset of <strong>~170,000 rows across 30 columns</strong>.</p>
<p>One-hot encoding was performed for categorical variables, but non-one-hot encoded features were also kept for models like CatBoost which <a href="https://catboost.ai/en/docs/features/categorical-features">manage categorical variables themselves</a>.</p>
<h3 id="5-statistical-analysis">5. Statistical analysis</h3>
<p>In order to select appropriate modelling approaches, some basic statistical analysis was conducted to understand normality and inter-correlation of the selected features.</p>
<h4 id="correlation-analysis">Correlation analysis</h4>
<p>Correlation analysis confirmed presence of significant <strong>collinearity</strong> between different features.</p>
<p>Top 20 one-hot encoded features correlated with <code>LENGTH_OF_STAY</code>, ranked by absolute correlation, were:</p>
<p><img alt="Plot of correlations of other columns with LENGTH_OF_STAY" src="../../images/long-stay-baseline/correlation.png" /></p>
<p><em>Figure 6. Plot of top 20 correlated features with <code>LENGTH_OF_STAY</code>. Blue columns are positively correlated (ie. increase length of stay) and red columns are negatively correlated (ie. reduce length of stay).</em></p>
<p>These indicate that age and age-related illness, as well as arrival mode are strong factors in determining length of stay.</p>
<h4 id="variation-inflation-factors">Variation inflation factors</h4>
<p>Variation inflation factors (VIF) confirmed the presence of multi-colinearity between a number of features (VIF &gt; 10).</p>
<h4 id="homoescadisticity">Homoescadisticity</h4>
<p>A basic ordinary least squares (OLS) regression model was fitted to the full feature set, then residuals calculated.</p>
<p>Residuals failed Shapiro-Wilk, Kolmogorov-Smirnov and Anderson-Darling tests for normality, as well as visual inspection:</p>
<p><img alt="" src="../../images/long-stay-baseline/residuals.jpeg" /></p>
<p><em>Figure 7. Plot of residuals (errors) in an OLS model of length of stay for all data.</em></p>
<p>OLS methods were therefore excluded from modelling.</p>
<h2 id="6-modelling">6. Modelling</h2>
<p>The machine learning modelling approach was as follows:</p>
<ol>
<li>Split the data into a training (70%), validation (15%) and test (15%) data set</li>
<li>Check the data splits do not introduce selection bias for length of stay, age, sex, or ethnicity</li>
<li>Train baseline models with default parameters on the training set</li>
<li>Evaluate baseline models on the validation test</li>
<li>Select the best performing model</li>
<li>Tune the best performing model using cross-validation on the training and validation set</li>
<li>Report the final performance of the model using the test set</li>
</ol>
<p><img alt="Summary of machine learning approach, starts with full dataset, that flows fown into 70% training data, 15% validation data, and 15% test data. Training data box flows into &quot;Train baseline models and &quot;Tune final model&quot;. Validation data box flows into &quot;Evaluate best baseline model&quot; and &quot;Tune final model&quot;. Test data box flows into &quot;evaluate final model&quot;." src="../../images/long-stay-baseline/ml-approach.png" /></p>
<p><em>Figure 8. Summary of machine learning approach used in this project.</em></p>
<p>Training, validation and test splits were representative of the population and did not introduce selection bias:</p>
<p><strong>Length of stay</strong></p>
<p><img alt="Distribution of length of stay by data split" src="../../images/long-stay-baseline/split-los.png" /></p>
<p><strong>Age</strong></p>
<p><img alt="Distribution of age by data split" src="../../images/long-stay-baseline/split-age.png" /></p>
<p><strong>Sex</strong></p>
<p>Proportion of <code>male</code>, <code>female</code> patients in each split:</p>
<div class="highlight"><pre><span></span><code><span class="nt">train</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">0.53</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.47</span><span class="p p-Indicator">]</span>
<span class="nt">validate</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">0.51</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.49</span><span class="p p-Indicator">]</span>
<span class="nt">test</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">0.53</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.47</span><span class="p p-Indicator">]</span>
</code></pre></div>
<p><strong>Ethnicity</strong></p>
<p>Proportions of each ethnicity for each split:</p>
<div class="highlight"><pre><span></span><code><span class="nt">train</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">0.87</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.05</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.02</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.02</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.01</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.01</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.01</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">...</span><span class="p p-Indicator">]</span>
<span class="nt">validate</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">0.88</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.05</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.03</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.02</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.01</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.01</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.01</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">...</span><span class="p p-Indicator">]</span>
<span class="nt">test</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="nv">0.87</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.05</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.02</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.02</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.01</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.01</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">0.0</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="nv">...</span><span class="p p-Indicator">]</span>
</code></pre></div>
<h3 id="61-regression-models">6.1 Regression models</h3>
<p>A range of baseline regression models were selected:</p>
<table>
<thead>
<tr>
<th>Model</th>
<th>Rationale</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.dummy.DummyRegressor.html">Mean</a></td>
<td>The simplest baseline, uses the mean length of stay as the prediction in all cases</td>
</tr>
<tr>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.ElasticNet.html">ElasticNet</a></td>
<td>A regularised implementation of linear regression that can be used for multi-colinear datasets such as in this dataset</td>
</tr>
<tr>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeRegressor.html">DecisionTreeRegressor</a></td>
<td>A simple, single tree regressor that is highly explainable</td>
</tr>
<tr>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestRegressor.html">RandomForestRegressor</a></td>
<td>An ensemble of decision trees with potentially better performance than a single tree</td>
</tr>
<tr>
<td><a href="https://xgboost.readthedocs.io/en/stable/python/python_api.html#xgboost.XGBRegressor">XGBRegressor</a></td>
<td>A boosted tree technique that can improve on ensemble techniques such as RandomForest</td>
</tr>
<tr>
<td><a href="https://catboost.ai/en/docs/concepts/python-reference_catboostregressor">CatBoostRegressor</a></td>
<td>A boosted tree technique designed specifically for datasets with high levels of categorical features as in this dataset</td>
</tr>
</tbody>
</table>
<p>Each model was trained with default parameters, and evaluated using root mean squared error (RMSE) on both the training set and then on the (unseen) validation set:</p>
<table>
<thead>
<tr>
<th>Model</th>
<th>Training RMSE (days)</th>
<th>Validation RMSE (days)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mean</td>
<td>6.89</td>
<td>6.94</td>
</tr>
<tr>
<td>ElasticNet</td>
<td>6.55</td>
<td>6.60</td>
</tr>
<tr>
<td>DecisionTree</td>
<td>0.55</td>
<td>9.11</td>
</tr>
<tr>
<td>RandomForest</td>
<td>2.46</td>
<td>6.52</td>
</tr>
<tr>
<td>XGBoost</td>
<td>5.97</td>
<td>6.32</td>
</tr>
<tr>
<td>CatBoost</td>
<td>6.13</td>
<td>6.26</td>
</tr>
</tbody>
</table>
<p>The best performing baseline model was Catboost with an RMSE of 6.26 days. Both DecisionTree and RandomForest models overfit the training data, as seen with low training RMSE resulting in much higher validation RMSE.</p>
<p>A single metric (e.g. RMSE) does not capture the behaviour of each model, so we visualise both the Predicted vs Actual plots as well as the corresponding relative error for both the training set and the validation set:</p>
<p><strong>Training performance:</strong></p>
<p><img alt="Plots of predicted vs actual and corresponding errors on the training dataset" src="../../images/long-stay-baseline/regression-predicted-actuals-training.png" /></p>
<p><em>Figure 11. Plots of predicted vs actual (left, red dashed line shows ideal model) and corresponding relative errors (right, red solid line shows mean error with 95% limits of agreement in green dashed lines) on the training dataset.</em></p>
<p>The RandomForest model appears to fit the training data well, but when compared with the performance on the validation set below, we can see this is due to overfitting on the training data set:</p>
<p><strong>Validation performance:</strong></p>
<p><img alt="" src="../../images/long-stay-baseline/regression-predicted-actuals-validation.jpeg" /></p>
<p><em>Figure 12. Plots of predicted vs actual (left, red dashed line shows ideal model) and corresponding relative errors (right, red solid line shows mean error with 95% limits of agreement in green dashed lines) on the validation dataset.</em></p>
<p>In all cases, the poor predictive power at higher length of stays is evident - there appears to be a linear increase in error caused by the models' inability to predict higher length of stays.</p>
<p>This is likely due to the bimodal nature of the underlying length of stay values - most stayers are short, while there is a significant portion of long stayers.</p>
<p>Further tuning of the CatBoost model using GridSearch and cross-validation led to the following results:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Optimal value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>depth</code></td>
<td>6</td>
</tr>
<tr>
<td><code>l2_leaf_reg</code></td>
<td>9</td>
</tr>
<tr>
<td><code>learning_rate</code></td>
<td>0.1</td>
</tr>
</tbody>
</table>
<p>with</p>
<table>
<thead>
<tr>
<th>Model</th>
<th>Training RMSE (days)</th>
<th>Validation RMSE (days)</th>
<th>Test RMSE (days)</th>
<th>Test MAE (days)</th>
</tr>
</thead>
<tbody>
<tr>
<td>CatBoost (tuned)</td>
<td>6.24</td>
<td>6.18</td>
<td>6.06</td>
<td>4.12</td>
</tr>
</tbody>
</table>
<p>The test MAE of 4.12 days compares reasonably well to the previous work using a convolutional neural network which achieved a MAE of 3.8 days.</p>
<p>However, a plot of predicted vs actual using the test dataset shows again the model's inability to capture long stayers:</p>
<p><img alt="" src="../../images/long-stay-baseline/regression-predicted-actuals-final-model-test.jpeg" /></p>
<p><em>Figure 13. Plots of predicted vs actual (left, red dashed line shows ideal model) and corresponding relative errors (right, red solid line shows mean error with 95% limits of agreement in green dashed lines) on the test dataset for the final model.</em></p>
<p>We can still explore the most important features that make up the prediction by plotting feature importances of the final model:</p>
<p><img alt="" src="../../images/long-stay-baseline/regression-feature-importance.png" /></p>
<p><em>Figure 14. Feature importances for the final regression model.</em></p>
<p>These broadly align with the correlated features explored earlier on - namely, age, arrival mode, serious illness but also include the number of previous visits, which can be considered a proxy for serious illness itself.</p>
<p>Because the final model, using CatBoost, does not include one-hot encoding of the categorical data as CatBoost deals with this internally, we don't have further granularity on admission mode and arrival mode to compare.</p>
<h3 id="62-demographic-analysis">6.2 Demographic analysis</h3>
<p>While the model is not performant enough to deploy into production, it is still important to understand whether or not the model incorporates bias into its predictions.</p>
<p>There are many kinds of bias in machine learning projects, and here we are looking at representation bias:</p>
<blockquote>
<p>Does the model perform better or worse for specific categories of people across sex, ethnicity and other demographics?</p>
</blockquote>
<p>The specific categories are:</p>
<div class="highlight"><pre><span></span><code><span class="s2">&quot;ETHNIC_CATEGORY_CODE_DESCRIPTION&quot;</span><span class="p">,</span> <span class="s2">&quot;IMD county decile&quot;</span><span class="p">,</span> <span class="s2">&quot;OAC Group Name&quot;</span><span class="p">,</span> <span class="s2">&quot;OAC Subgroup Name&quot;</span><span class="p">,</span> <span class="s2">&quot;OAC Supergroup Name&quot;</span><span class="p">,</span> <span class="s2">&quot;PATIENT_GENDER_CURRENT_DESCRIPTION&quot;</span><span class="p">,</span> <span class="s2">&quot;POST_CODE_AT_ADMISSION_DATE_DISTRICT&quot;</span><span class="p">,</span> <span class="s2">&quot;Rural urban classification&quot;</span>
</code></pre></div>
<p>Before looking at model performance, we need to understand how represented each category is, before drawing conclusions on categories with small sample size (note that for brevity we will only share results from <code>"ETHNIC_CATEGORY_CODE_DESCRIPTION", "IMD county decile","PATIENT_GENDER_CURRENT_DESCRIPTION"</code>):</p>
<p><img alt="Counts for ethnicity code, with the largest being British by a large margin, then Not stated, then any other white background." src="../../images/long-stay-baseline/los-dist-ethnicity.png" /></p>
<p><em>Figure 15. Underlying counts for ethnicity - all data.</em></p>
<p>We can see that for <code>ETHNIC_CATEGORY_CODE_DESCRIPTION</code>, the overwhelming majority of patients report <code>British</code>. We should be careful what conclusions we draw in further analysis about smaller categories, as the sample size will be very small and likely not statistically representative.</p>
<p><img alt="" src="../../images/long-stay-baseline/los-dist-sex.png" /></p>
<p><em>Figure 16. Underlying counts for sex - all data.</em></p>
<p>Sex is broadly equal, with slightly more female than male patients in this dataset.</p>
<p><img alt="" src="../../images/long-stay-baseline/los-dist-imd.png" /></p>
<p><em>Figure 17. Underlying counts for index of multiple deprivation - all data</em></p>
<p>Index of Multiple Deprivation (IMD) deciles are skewed to the lower end, ie. there are more deprived patients present in this dataset than not.</p>
<p>Now we can look at the distribution of length of stay for the above categories:</p>
<p><img alt="" src="../../images/long-stay-baseline/los-mean-los-ethnicity.png" /></p>
<p><em>Figure 18. Underlying length of stay by ethnicity - all data.</em></p>
<p>There is significant variation of length of stay for different ethnic groups, for example with White and black Caribbean patients having a length of stay of 2.6 days on average, versus 6.0 days for Irish patients. However, as discussed previously, the count of these groups is 560 and 892 individuals respectively so further statistical hypothesis tests need to be conducted to understand if the distributions are truly different (e.g. a two-sided Kolmogorov-Smirnov test).</p>
<p><img alt="" src="../../images/long-stay-baseline/los-mean-los-sex.png" />
<em>Figure 19. Underlying length of stay by sex - all data.</em></p>
<p>Mean length of stay is almost identical across patient sex.</p>
<p><img alt="" src="../../images/long-stay-baseline/los-mean-los-imd.png" /></p>
<p><em>Figure 20. Underlying length of stay by index of multiple deprivation - all data.</em></p>
<p>There are small variations in length of stay across IMD deciles, although more tests need to be conducted to understand if these differences are statistically significant.</p>
<p>Because we are interested in if the model performs differently by category, we will plot the error of the predictions of the test dataset relative to the overall (mean) error for all categories. This will help identify potential discrimination in model performance.</p>
<p><img alt="" src="../../images/long-stay-baseline/los-rel-error-ethnicity.png" /></p>
<p><em>Figure 21. Relative error in length of stay predictions for different ethnic groups - test data.</em></p>
<p>The model appears to perform significantly worse for Caribbean (overestimating length of stay by 2.7 days compared to the mean error) and Any other mixed background (underestimating length of stay by 1.8 days compared to the mean error). Sample sizes are 719 and 536 patients respectively. As discussed the small sample sizes need further investigation and/or additional data collection to establish the statistical significance of this performance difference.</p>
<p><img alt="" src="../../images/long-stay-baseline/los-rel-error-sex.png" /></p>
<p><em>Figure 22. Relative error in length of stay predictions for different sex - test data.</em></p>
<p>Sex has almost no (0.002 days) error from the average.</p>
<p><img alt="" src="../../images/long-stay-baseline/los-rel-error-imd.png" /></p>
<p><em>Figure 23. Relative error in length of stay predictions for different index of multiple deprivations deciles - test data.</em></p>
<p>The lowest IMD county decile (1) has an error of 0.5 days underestimating from the mean error, which at under a day may not lead to any difference in treatment if this prediction is used in clinical practice (ie. a length of stay of 1.5 days is the same as a length of stay of 2.0 days - both would count as 2 whole days).</p>
<p>We also know that length of stay varies by group, so further plots of the ratio of MAE to length of stay are generated in the notebooks, but not included here for brevity.</p>
<p>The final model generated did not adequately capture length of stay across the population. Some sample sizes of demographic groups were too small to draw conclusions, but the process of exploring the underlying distribution of the target feature (length of stay), count (n) and model performance were important and should remain part of future work.</p>
<h3 id="63-classification-models">6.3 Classification models</h3>
<p>In addition to predicting the length of stay in days, we are also interested in stratifying the risk of a patient becoming a long stayer. This can be inferred from their predicted length of stay (see <a href="#64-model-comparison">model comparison</a>), but we can also train a classification model to do this directly.</p>
<p>The agreed stratification of risk of long stay is defined as:</p>
<table>
<thead>
<tr>
<th>Risk Category</th>
<th>Day Range for Risk Category</th>
</tr>
</thead>
<tbody>
<tr>
<td>1 - Very low risk</td>
<td>0-6</td>
</tr>
<tr>
<td>2 - Low risk</td>
<td>7-10</td>
</tr>
<tr>
<td>3 - Normal risk</td>
<td>11-13</td>
</tr>
<tr>
<td>4 - Elevated risk</td>
<td>14-15</td>
</tr>
<tr>
<td>5 - High risk</td>
<td>&gt;15</td>
</tr>
</tbody>
</table>
<p>We keep the training features the same as in the regression models, and encode risk from the actual length of stay as the target feature.</p>
<blockquote>
<p>Postscript: classification models based on increasing risk (1-5) are ordinal in nature, and an appropriate model should be used where different classes are not treated as independent as per the examples in this implementation.</p>
</blockquote>
<p>The classification equivalents of the regression models were selected:</p>
<table>
<thead>
<tr>
<th>Model</th>
<th>Regression version</th>
<th>Classification version</th>
</tr>
</thead>
<tbody>
<tr>
<td>Dummy</td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.dummy.DummyRegressor.html">Mean</a></td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.dummy.DummyClassifier.html">Prior</a></td>
</tr>
<tr>
<td>ElasticNet</td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.ElasticNet.html">ElasticNet</a></td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html">LogisticRegression</a></td>
</tr>
<tr>
<td>Decision Tree</td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeRegressor.html">DecisionTreeRegressor</a></td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.tree.DecisionTreeClassifier.html">DecisionTreeClassifier</a></td>
</tr>
<tr>
<td>Random Forest</td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestRegressor.html">RandomForestRegressor</a></td>
<td><a href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html">RandomForestClassifier</a></td>
</tr>
<tr>
<td>XGBoost</td>
<td><a href="https://xgboost.readthedocs.io/en/stable/python/python_api.html#xgboost.XGBRegressor">XGBRegressor</a></td>
<td><a href="https://xgboost.readthedocs.io/en/stable/python/python_api.html#xgboost.XGBClassifier">XGBClassifier</a></td>
</tr>
<tr>
<td>CatBoost</td>
<td><a href="https://catboost.ai/en/docs/concepts/python-reference_catboostregressor">CatBoostRegressor</a></td>
<td><a href="https://catboost.ai/en/docs/concepts/python-reference_catboostclassifier">CatBoostClassifier</a></td>
</tr>
</tbody>
</table>
<p>The training, validation and test regime was the same as for the regression models.</p>
<p><strong>Class imbalance</strong></p>
<p>In the training set, we observe the following class imbalance:</p>
<table>
<thead>
<tr>
<th>Risk score</th>
<th>Number of patients</th>
<th>% of total patients</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>89711</td>
<td>74.0</td>
</tr>
<tr>
<td>2</td>
<td>12634</td>
<td>10.4</td>
</tr>
<tr>
<td>3</td>
<td>5226</td>
<td>9.1</td>
</tr>
<tr>
<td>4</td>
<td>2613</td>
<td>4.3</td>
</tr>
<tr>
<td>5</td>
<td>10990</td>
<td>2.2</td>
</tr>
</tbody>
</table>
<p>ie. the majority of patients are low risk, and the highest risk group is only 2.2% of the population.</p>
<p>Class and/or sample weights were calculated using the above training imbalances and passed into all models.</p>
<p>Models were trained using default parameters, and evaluated using the <a href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.f1_score.html">weighted F1 score</a> which represents the balance between precision and recall, and accounts for class imbalance. F1 scores range from 0 to 1 (where 1 is "ideal" or maximum).</p>
<table>
<thead>
<tr>
<th>Model</th>
<th>Training weighted F1 score</th>
<th>Validation weighted F1 score</th>
</tr>
</thead>
<tbody>
<tr>
<td>Prior</td>
<td>0.63</td>
<td>0.62</td>
</tr>
<tr>
<td>ElasticNet</td>
<td>0.54</td>
<td>0.53</td>
</tr>
<tr>
<td>DecisionTree</td>
<td>1.00</td>
<td>0.59</td>
</tr>
<tr>
<td>RandomForest</td>
<td>1.00</td>
<td>0.64</td>
</tr>
<tr>
<td>XGBoost</td>
<td>0.57</td>
<td>0.54</td>
</tr>
<tr>
<td>CatBoost</td>
<td>0.57</td>
<td>0.54</td>
</tr>
</tbody>
</table>
<p>While the RandomForest model obtained the highest validation weighted F1 score (0.64), it also overfit the training data (weighted F1 score of 1.00).</p>
<p>A visual inspection of model performance, plotting both total counts of risk categories in actual vs predicted cases, as well as the proportion of actual risk in each predicted category, are shown below for both the training and validation data sets:</p>
<p><strong>Training performance:</strong></p>
<p><img alt="" src="../../images/long-stay-baseline/clf-predicted-actuals-training.png" /></p>
<p><em>Figure 24. Plots of predicted vs actual risks on the training dataset. Left image shows count of actual and predicted risks for each category. Right image shows proportion of actual risk that makes up each predicted risk category.</em></p>
<p>We can see that both the DecisionTree and RandomForest models severely overfit the training data.</p>
<p>We also see that none of the models are able to capture the nature of the highest risk categories, with every risk category containing a large (&gt;50%) proportion of the lowest risk level (level 1). This is despite weighting the models to account for class imbalance.</p>
<p><strong>Validation performance:</strong></p>
<p><img alt="" src="../../images/long-stay-baseline/clf-predicted-actuals-validation.png" /></p>
<p><em>Figure 25. Plots of predicted vs actual risks on the validation dataset. Left image shows count of actual and predicted risks for each category. Right image shows proportion of actual risk that makes up each predicted risk category.</em></p>
<p>The RandomForest model has an anomaly in its predictions for risk category 4 where it is missing any of the highest risk category 5 compared to other predictions. This is likely due to the overfitting observed in the previous plot.</p>
<p>Both CatBoost and XGBoost have similar levels of predictive power, defined by the lower proportion of very low risk in the predictions for high risk, although at ~50% these are still too high.</p>
<p>Both CatBoost and XGBoost over-predict higher risk categories, while under-predicting the lowest risk category. This will lead both to false positives where very low risk cases are shown as high risk, and false negatives where high risk cases are shown as lower risk.</p>
<p>CatBoost was selected as the final model due to the lack of significant difference in performance with XGBoost, and for consistency with the final regression model. Further tuning of the CatBoost model using GridSearch (with a smaller parameter space than with regression due to compute time) and cross-validation led to the following results:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Optimal value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>depth</code></td>
<td>10</td>
</tr>
<tr>
<td><code>l2_leaf_reg</code></td>
<td>1</td>
</tr>
<tr>
<td><code>learning_rate</code></td>
<td>0.1</td>
</tr>
</tbody>
</table>
<p>with</p>
<table>
<thead>
<tr>
<th>Model</th>
<th>Training weighted F1 score</th>
<th>Validation weighted F1 score</th>
<th>Test weighted F1 score</th>
<th>Test balanced accuracy</th>
<th>Test AUC (OVR, weighted)</th>
</tr>
</thead>
<tbody>
<tr>
<td>CatBoost (tuned)</td>
<td>0.61</td>
<td>0.75</td>
<td>0.60</td>
<td>0.27</td>
<td>0.70</td>
</tr>
</tbody>
</table>
<p>Balanced accuracy was determined as 0.27, a poor result for accurately predicting the correct class. The overall Area Under the receiving operator characteristic Curve (AUC), which was calculated as a weighted one-versus-rest metric, was 0.70.</p>
<p><img alt="" src="../../images/long-stay-baseline/clf-predicted-actuals-final-model-test.png" /></p>
<p><em>Figure 26. Plots of predicted vs actual risks on the test dataset for the final model. Left image shows count of actual and predicted risks for each category. Right image shows proportion of actual risk that makes up each predicted risk category.</em></p>
<p>The final model still assigns over 50% of the lower risk class (the most populated class) to every predicted class, which would lead to a high number of false positives. It also fails to capture the highest risk class adequately, leading to a high number of false negatives.</p>
<p>Despite the poor performance, we can still explore the most important features that make up the prediction by plotting feature importances of the final model:</p>
<p><img alt="" src="../../images/long-stay-baseline/clf-feature-importance.png" /></p>
<p><em>Figure 27. Feature importances for the final regression model.</em></p>
<p>In this case, <code>arrival_month_name</code> and <code>arrival_day_of_week</code> are the two most important features, which differs from the regression model and correlation analysis. This may be why the false positive and false negative rates for the model are so high, and needs further exploration.</p>
<p>Demographic analysis of the risk stratification model was not conducted as the model performance did not justify exploring whether there was representation bias at this stage.</p>
<h3 id="64-model-comparison">6.4 Model comparison</h3>
<p>As a final modelling step, we can compare both the regression models and classification models, by encoding the predicted length of stay from the regression model as a corresponding risk.</p>
<p>This comparison may help us understand whether a classification or regression approach is more suitable for this type of data.</p>
<p><img alt="" src="../../images/long-stay-baseline/model-comparison.png" /></p>
<p><em>Figure 28. Comparison of both models. Left image shows proportion of actual risk for each predicted risk category for the classification model. Right image shows proportion of actual risk for each equivalent predicted risk category derived from the regression model.</em></p>
<p>Here we can see that the regression model, encoded as a risk stratification model, performs much better than the classification approach:</p>
<ul>
<li>The number of very low risk patients is much lower for higher risk patients, under 20% in the case of high risk. This means lower false positives.</li>
<li>The proportion of high risk patients is higher in the predicted higher risk categories. This means lower false negatives.</li>
</ul>
<p>If risk stratification is the key desired output, then further refining the regression model may be the better approach to improving the overall performance of the system.</p>
<h2 id="7-conclusions">7. Conclusions</h2>
<p>A number of baseline machine learning models were trained on EPR data from GHNHSFT.</p>
<p>The best performing regression model achieved a Mean Absolute Error of 4.1 days, compared to 3.8 days for previous work using a convolutional neural network.</p>
<p>Simpler baseline models benefit from enhanced explainability and less compute resources for training. In this case the most important features were related to age and serious illness.</p>
<p>The overall performance of the best regression model was still poor - despite an MAE of 4.1 days, the model failed to capture long stayers and requires further work before use.</p>
<p>The best performing classification model achieved a weighted F1 score of 0.6.</p>
<p>The overall performance of the best classification model was poor - the model failed to capture high risk and assigned a high proportion (&gt;50%) of very low risk patients to higher risk groups.</p>
<p>Using the regression model to calculate equivalent risk scores led to a better risk stratification model, where only ~20% of very low risk patients were assigned to the high risk group.</p>
<p>Demographic analysis showed that the model performed differently for different ethnicities and indices of multiple deprivation, but both model performance needs to be improved and sample sizes need to be increased in order to draw any meaning from these initial findings.</p>
<p>There is opportunity for much future work, which should be balanced with the utility of these predictions in the clinical context.</p>
<h2 id="8-future-work">8. Future work</h2>
<h3 id="modelling-improvements">Modelling improvements</h3>
<ol>
<li>Feature engineering of free text fields. Early on we decided to focus on simple numerical and categorical features for this project. A huge amount of rich data is present in fields such as <code>presenting_complaint</code> and <code>reason_for_admission</code>.</li>
<li>Including features available after admission. Fields such as <code>all_diagnoses</code> and <code>all_treatments</code> will provide clinically important information, and may improve the performance of the predictions.</li>
<li>Focussing on a smaller number of features. Once the most important features are identified, a model using the top e.g. 10 features could be trained and tested.</li>
<li>Building two models - one for short stay and one for long stay. This may help capture the bimodal nature of the underlying dataset.</li>
<li>Including <code>MINOR</code> cases. This project focussed on <code>MAJOR</code>, <code>non-elective</code> cases. 70%+ of the original data belonged to minor cases, and in combination with the above, including this data could lead to an improvement in model performance.</li>
<li>Treating Length of Stay as a discrete variable and applying poisson distribution appropriate approaches to modelling.</li>
<li>Exploring Generalised Linear Models using e.g. <a href="https://pygam.readthedocs.io/en/latest/index.html">pyGAM</a>.</li>
<li>Exploring Bayesian approaches.</li>
<li>Exploring the addition of latent variable(s).</li>
</ol>
<h3 id="demographic-analysis-improvements">Demographic analysis improvements</h3>
<ol>
<li>Statistical testing of fairness. Once model performance reaches a sufficient level, further statistical tests of model performance across demographics should be conducted using e.g. a two-sided Kolmogorov-Smirnov test.</li>
<li>Combine smaller groups. For example, grouping <code>British</code> and <code>Non-British</code> ethnicities would allow statistical comparisons to be made between the majority group and other groups.</li>
</ol>
<h3 id="technical-improvements">Technical improvements</h3>
<ol>
<li>Move from Notebooks to python scripts. Jupyter Notebooks are an excellent exploratory tool, but do not work well with version control or automated testing.</li>
<li>Implement a <a href="https://github.com/NHSDigital/rap-community-of-practice">Reproducible Analytical Pipeline</a>. This will allow reuse of the approaches here and improve overall code quality.</li>
<li>Abstract visualisation code into functions. This will improve readability of the code.</li>
</ol>
<h4 id="acknowledgments">Acknowledgments</h4>
<ol>
<li>Joe Green, GHNHSFT for presenting the challenge to Skunkworks and supporting problem definition/data selection</li>
<li>Tom Lane, GHNHSFT for support in final stages</li>
<li>Brad Pearce and Peter Coetzee, Polygeist, for the original CNN-based model</li>
<li>Jennifer Hall, Matthew Cooper and Sanson Poon, NHS AI Lab Skunkworks for guidance, code and report review</li>
<li>Chris Mainey, NHSE, for suggestions of additional modelling improvements</li>
</ol>
<table>
<thead>
<tr>
<th>Output</th>
<th>Link</th>
</tr>
</thead>
<tbody>
<tr>
<td>Open Source Code &amp; Documentation</td>
<td><a href="https://github.com/nhsx/skunkworks-long-stayer-risk-stratification-baseline">Github</a></td>
</tr>
</tbody>
</table>
<h1 id="_1"></h1>







  
  






                

              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <head>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
  />
</head>

<!-- Code for the next arrow from Material for MkDocs -->
<footer class="md-footer">
   
  <nav
    class="md-footer__inner md-grid"
    aria-label="footer.title"
    
  >
     
    <a
      href="../long-stay/"
      class="md-footer__link md-footer__link--prev"
      aria-label="Previous: Length of Hospital Day Prediction"
      rel="prev"
    >
      <div class="md-footer__button md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </div>
      <div class="md-footer__title">
        <div class="md-ellipsis">
          <span class="md-footer__direction"> Previous </span>
          Length of Hospital Day Prediction
        </div>
      </div>
    </a>
      
    <a
      href="../parkinsons-detection/"
      class="md-footer__link md-footer__link--next"
      aria-label="Next: Parkinson&#39;s Disease Pathology Prediction"
      rel="next"
    >
      <div class="md-footer__title">
        <div class="md-ellipsis">
          <span class="md-footer__direction"> Next </span>
          Parkinson's Disease Pathology Prediction
        </div>
      </div>
      <div class="md-footer__button md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
      </div>
    </a>
    
  </nav>
  
</footer>

<footer class="footer">
  <div class="footer_left">
    <a href="mailto:datascience@nhs.net">Contact Us</a>
    <p>Developed by <a href="https://www.england.nhs.uk/">NHS England</a> Data Science Profession.</p>
    <p>
      View the team on
      <a href="https://github.com/nhsengland/datascience"
        >GitHub</a
      >
    </p>
  </div>

  <div class="legal">
    <div class="footer_left">
    <p>&copy; 2024 Crown Copyright (NHS England)</p>
    <p>All content is available under the
        <a
          href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/"
          >Open Government Licence v3.0</a
        >, except where otherwise stated.
      </p>    
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["search.share", "content.code.annotate", "content.tabs.link", "navigation.tabs", "navigation.tabs.sticky", "navigation.indexes", "navigation.path", "navigation.top", "toc.integrate"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../../javascripts/tablesort.js"></script>
      
        <script src="../../javascripts/tablefilter.js"></script>
      
        <script src="../../js/open_in_new_tab.js"></script>
      
    
  </body>
</html>